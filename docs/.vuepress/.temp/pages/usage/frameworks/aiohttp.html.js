import comp from "/Users/aleksandrkiselev/Projects/qaspen-python/psqlpy/docs/.vuepress/.temp/pages/usage/frameworks/aiohttp.html.vue"
const data = JSON.parse("{\"path\":\"/usage/frameworks/aiohttp.html\",\"title\":\"AioHTTP\",\"lang\":\"en-US\",\"frontmatter\":{\"title\":\"AioHTTP\",\"description\":\"There is the default example for AioHTTP framework. We strongly recommend to use the following example as a standard way to use PSQLPy with AioHTTP framework. Complete example\",\"head\":[[\"meta\",{\"property\":\"og:url\",\"content\":\"https://qaspen-python.github.io/psqlpy-docs/usage/frameworks/aiohttp.html\"}],[\"meta\",{\"property\":\"og:site_name\",\"content\":\"PSQLPy\"}],[\"meta\",{\"property\":\"og:title\",\"content\":\"AioHTTP\"}],[\"meta\",{\"property\":\"og:description\",\"content\":\"There is the default example for AioHTTP framework. We strongly recommend to use the following example as a standard way to use PSQLPy with AioHTTP framework. Complete example\"}],[\"meta\",{\"property\":\"og:type\",\"content\":\"article\"}],[\"meta\",{\"property\":\"og:locale\",\"content\":\"en-US\"}],[\"script\",{\"type\":\"application/ld+json\"},\"{\\\"@context\\\":\\\"https://schema.org\\\",\\\"@type\\\":\\\"Article\\\",\\\"headline\\\":\\\"AioHTTP\\\",\\\"image\\\":[\\\"\\\"],\\\"dateModified\\\":null,\\\"author\\\":[]}\"]]},\"headers\":[{\"level\":2,\"title\":\"Complete example\",\"slug\":\"complete-example\",\"link\":\"#complete-example\",\"children\":[]}],\"filePathRelative\":\"usage/frameworks/aiohttp.md\",\"autoDesc\":true,\"excerpt\":\"<p>There is the default example for <code>AioHTTP</code> framework.</p>\\n<p>We strongly recommend to use the following example as a standard way to use <code>PSQLPy</code> with <code>AioHTTP</code> framework.</p>\\n<h2>Complete example</h2>\\n<div class=\\\"language-python\\\" data-ext=\\\"py\\\" data-title=\\\"py\\\"><pre class=\\\"language-python\\\"><code><span class=\\\"token comment\\\"># Start example</span>\\n<span class=\\\"token keyword\\\">import</span> asyncio\\n<span class=\\\"token keyword\\\">from</span> typing <span class=\\\"token keyword\\\">import</span> cast\\n<span class=\\\"token keyword\\\">from</span> aiohttp <span class=\\\"token keyword\\\">import</span> web\\n<span class=\\\"token keyword\\\">from</span> psqlpy <span class=\\\"token keyword\\\">import</span> ConnectionPool\\n\\n\\n<span class=\\\"token keyword\\\">async</span> <span class=\\\"token keyword\\\">def</span> <span class=\\\"token function\\\">start_db_pool</span><span class=\\\"token punctuation\\\">(</span>app<span class=\\\"token punctuation\\\">:</span> web<span class=\\\"token punctuation\\\">.</span>Application<span class=\\\"token punctuation\\\">)</span> <span class=\\\"token operator\\\">-</span><span class=\\\"token operator\\\">&gt;</span> <span class=\\\"token boolean\\\">None</span><span class=\\\"token punctuation\\\">:</span>\\n    <span class=\\\"token triple-quoted-string string\\\">\\\"\\\"\\\"Initialize database connection pool.\\\"\\\"\\\"</span>\\n    db_pool <span class=\\\"token operator\\\">=</span> ConnectionPool<span class=\\\"token punctuation\\\">(</span>\\n        dsn<span class=\\\"token operator\\\">=</span><span class=\\\"token string\\\">\\\"postgres://postgres:postgres@localhost:5432/postgres\\\"</span><span class=\\\"token punctuation\\\">,</span>\\n        max_db_pool_size<span class=\\\"token operator\\\">=</span><span class=\\\"token number\\\">10</span><span class=\\\"token punctuation\\\">,</span>\\n    <span class=\\\"token punctuation\\\">)</span>\\n\\n    app<span class=\\\"token punctuation\\\">[</span><span class=\\\"token string\\\">\\\"db_pool\\\"</span><span class=\\\"token punctuation\\\">]</span> <span class=\\\"token operator\\\">=</span> db_pool\\n\\n\\n<span class=\\\"token keyword\\\">async</span> <span class=\\\"token keyword\\\">def</span> <span class=\\\"token function\\\">stop_db_pool</span><span class=\\\"token punctuation\\\">(</span>app<span class=\\\"token punctuation\\\">:</span> web<span class=\\\"token punctuation\\\">.</span>Application<span class=\\\"token punctuation\\\">)</span> <span class=\\\"token operator\\\">-</span><span class=\\\"token operator\\\">&gt;</span> <span class=\\\"token boolean\\\">None</span><span class=\\\"token punctuation\\\">:</span>\\n    <span class=\\\"token triple-quoted-string string\\\">\\\"\\\"\\\"Close database connection pool.\\\"\\\"\\\"</span>\\n    db_pool <span class=\\\"token operator\\\">=</span> cast<span class=\\\"token punctuation\\\">(</span>ConnectionPool<span class=\\\"token punctuation\\\">,</span> app<span class=\\\"token punctuation\\\">.</span>db_pool<span class=\\\"token punctuation\\\">)</span>\\n    db_pool<span class=\\\"token punctuation\\\">.</span>close<span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span>\\n\\n\\n<span class=\\\"token keyword\\\">async</span> <span class=\\\"token keyword\\\">def</span> <span class=\\\"token function\\\">pg_pool_example</span><span class=\\\"token punctuation\\\">(</span>request<span class=\\\"token punctuation\\\">:</span> web<span class=\\\"token punctuation\\\">.</span>Request<span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">:</span>\\n    db_pool <span class=\\\"token operator\\\">=</span> cast<span class=\\\"token punctuation\\\">(</span>ConnectionPool<span class=\\\"token punctuation\\\">,</span> request<span class=\\\"token punctuation\\\">.</span>app<span class=\\\"token punctuation\\\">[</span><span class=\\\"token string\\\">\\\"db_pool\\\"</span><span class=\\\"token punctuation\\\">]</span><span class=\\\"token punctuation\\\">)</span>\\n    connection <span class=\\\"token operator\\\">=</span> <span class=\\\"token keyword\\\">await</span> db_pool<span class=\\\"token punctuation\\\">.</span>connection<span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span>\\n    <span class=\\\"token keyword\\\">await</span> asyncio<span class=\\\"token punctuation\\\">.</span>sleep<span class=\\\"token punctuation\\\">(</span><span class=\\\"token number\\\">10</span><span class=\\\"token punctuation\\\">)</span>\\n    query_result <span class=\\\"token operator\\\">=</span> <span class=\\\"token keyword\\\">await</span> connection<span class=\\\"token punctuation\\\">.</span>execute<span class=\\\"token punctuation\\\">(</span>\\n        <span class=\\\"token string\\\">\\\"SELECT * FROM users\\\"</span><span class=\\\"token punctuation\\\">,</span>\\n    <span class=\\\"token punctuation\\\">)</span>\\n    dict_result <span class=\\\"token operator\\\">=</span> query_result<span class=\\\"token punctuation\\\">.</span>result<span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span>\\n    <span class=\\\"token keyword\\\">return</span> web<span class=\\\"token punctuation\\\">.</span>json_response<span class=\\\"token punctuation\\\">(</span>\\n        data<span class=\\\"token operator\\\">=</span>dict_result<span class=\\\"token punctuation\\\">,</span>\\n    <span class=\\\"token punctuation\\\">)</span>\\n\\n\\napplication <span class=\\\"token operator\\\">=</span> web<span class=\\\"token punctuation\\\">.</span>Application<span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span>\\napplication<span class=\\\"token punctuation\\\">.</span>on_startup<span class=\\\"token punctuation\\\">.</span>append<span class=\\\"token punctuation\\\">(</span>start_db_pool<span class=\\\"token punctuation\\\">)</span>\\napplication<span class=\\\"token punctuation\\\">.</span>add_routes<span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">[</span>web<span class=\\\"token punctuation\\\">.</span>get<span class=\\\"token punctuation\\\">(</span><span class=\\\"token string\\\">'/'</span><span class=\\\"token punctuation\\\">,</span> pg_pool_example<span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">]</span><span class=\\\"token punctuation\\\">)</span>\\n\\n\\n<span class=\\\"token keyword\\\">if</span> __name__ <span class=\\\"token operator\\\">==</span> <span class=\\\"token string\\\">\\\"__main__\\\"</span><span class=\\\"token punctuation\\\">:</span>\\n    web<span class=\\\"token punctuation\\\">.</span>run_app<span class=\\\"token punctuation\\\">(</span>application<span class=\\\"token punctuation\\\">)</span>\\n\\n</code></pre></div>\"}")
export { comp, data }

if (import.meta.webpackHot) {
  import.meta.webpackHot.accept()
  if (__VUE_HMR_RUNTIME__.updatePageData) {
    __VUE_HMR_RUNTIME__.updatePageData(data)
  }
}

if (import.meta.hot) {
  import.meta.hot.accept(({ data }) => {
    __VUE_HMR_RUNTIME__.updatePageData(data)
  })
}
